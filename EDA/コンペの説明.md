# Child Mind Institute - Detect Sleep States

## Overview

あなたの仕事は、研究者が睡眠モニタリングのための加速度計データを分析する能力を向上させ、睡眠に関する大規模な研究を行うことを可能にするでしょう。
最終的に、この競技会の成果は、睡眠の重要性に関する認識とガイダンスを向上させることができるかもしれません。
環境要因が睡眠、気分、および行動にどのように影響するかに関する貴重な洞察は、
個々の子供の独自のニーズに合わせたパーソナライズされた介入とサポートシステムの開発に役立つ情報となります。

## Description

### Goal of the Competition

この競技の目標は、睡眠の開始と目覚めを検出することです。
あなたは、手首に装着された加速度計データに基づいて、個人の睡眠状態を判断するモデルを開発します。

あなたの作業は、研究者がさまざまな人口と状況にわたる信頼性の高い大規模な睡眠研究を実施することを可能にするかもしれません。
そのような研究の結果は、睡眠に関するさらなる情報を提供することができます。

この競技の成功は、特に気分や行動の問題を抱える子供や若者に重要な影響を与える可能性があります。
睡眠は、すべての年齢の個人、特に子供において気分、感情、行動を調整するために重要です。
手首に装着された加速度計データから睡眠と覚醒の期間を正確に検出することで、研究者は睡眠パターンをより深く理解し、
子供の睡眠の乱れをより良く理解することができます。

### Context

夜毎に得る「Zzzs（睡眠）」は、あなたの総合的な健康にとって極めて重要です。睡眠は、発達から認知機能に至るまで、すべてに影響を与えます。それにもかかわらず、睡眠に関する研究は、正確な注釈とともに自然なデータ収集の不足のために難しいことが証明されています。データサイエンスが、睡眠モニタリングのための手首に装着された加速度計データを研究者がより良く分析するのに役立つ場合、睡眠の専門家はより簡単に大規模な睡眠研究を実施し、その結果として睡眠の重要性と機能についての理解を向上させることができます。

現在の睡眠データの注釈付けに関するアプローチには、睡眠ログが含まれており、これは睡眠の開始を検出するためのゴールドスタンダードです。しかし、これは多くの参加者にとって信頼性がなく、寝床に行くことと寝入ること（または逆に、目を覚まし、ベッドから出ること）の微妙な違いを捉えることができません。ヒューリスティックベースのソフトウェアは、睡眠ウィンドウを特定しようとする別の解決策ですが、これらは睡眠の人間工学的な特徴（例：腕の角度）に依存しており、個々の個人間で異なり、専門家が視覚的に検出できる睡眠ウィンドウを正確に要約しません。大規模なスケールで睡眠データを分析するための改良されたツールがあれば、研究者は睡眠と気分/行動の困難さとの関係を探究できます。この知識は、よりターゲットを絞った介入と治療戦略につながる可能性があります。

競技の主催者であるChild Mind Institute（CMI）は、精神的な健康や学習障害に苦しむ子供と家族の生活を変えるために、彼らに必要な支援を提供しています。CMIは、ゴールドスタンダードのエビデンスに基づいたケアを提供し、年々何百万もの家族に教育資源を提供し、未開発のコミュニティの教育者を訓練し、明日の突破口的な治療法を開発することによって、子供の精神的健康分野での独立した非営利団体としての地位を築いてきました。

Stavros Niarchos Foundation（SNF）からの基礎的な助成金により設立された、Child Mind InstituteのSNF Global Center for Child and Adolescent Mental Healthは、子供の精神的健康の研究の不十分な領域での国際的な協力を加速し、文化に適したトレーニング、リソース、および治療への世界的なアクセスを拡大することを目指しています。SNF Global Centerの主要な目標の1つは、臨床評価と介入のイノベーションを拡大し、精神保健ケアと研究を補完する新しいテクノロジーを構築、テスト、展開することであり、これにはモバイルアプリ、センサー、分析ツールなどが含まれます。

あなたの作業は、研究者が睡眠モニタリングのための加速度計データを分析する能力を向上させ、大規模な睡眠研究を実施することを可能にするでしょう。最終的に、この競技会の成果は、睡眠の重要性に関する認識とガイダンスを向上させるかもしれません。環境要因が睡眠、気分、および行動にどのように影響するかに関する貴重な洞察は、個々の子供の独自のニーズに合わせたパーソナライズされた介入とサポートシステムの開発に役立つ情報となります。

### 謝辞

この競技に使用されたデータは、ニューヨーク市に拠点を置く歴史的な精神保健研究であるHealthy Brain Networkから提供されました。Healthy Brain Networkでは、家族、コミュニティリーダー、および支援者がChild Mind Instituteと提携し、発達中の脳の秘密を解明するお手伝いをし、世界中の子供たちをサポートしています。Kaggleチームによる寛大な支援に加えて、Stavros Niarchos Foundation（SNF）はSNF Global Center for Child and Adolescent Mental Health at the Child Mind Instituteを通じて、そのグローバルヘルスイニシアティブ（GHI）の一環として財政的な支援を提供しています。

## Evaluation

提出物は、イベントの検出に対する平均精度（Average Precision）で評価されます。この評価は、タイムスタンプ誤差許容範囲を平均し、イベントクラスごとに平均化されます。

検出は、誤差許容範囲内でグラウンドトゥルースのイベントに一致させられ、曖昧さは信頼度が高い順に解決されます。両方のイベントクラスに対して、1、3、5、7.5、10、12.5、15、20、25、30分、または12、36、60、90、120、150、180、240、300、360ステップの誤差許容範囲を使用します。

この評価メトリックのPythonコードは、Event Detection APで入手できます。

### Detailed Description

評価は次の3つのステップで進行します：

アサインメント（Assignment） - 予測されたイベントをグラウンドトゥルースのイベントに一致させます。
スコアリング（Scoring） - 各予測グループは、対応するグラウンドトゥルースのイベントグループに対して平均精度（Average Precision）を用いてスコアリングされます。
リダクション（Reduction） - 複数の平均精度スコアを平均して、単一の総合スコアを生成します。

#### アサインメント

同じイベントx許容範囲xシリーズIDグループ内の各予測セットとグラウンドトゥルースに対して、許容された許容範囲内で最も信頼度の高い未一致の予測と各グラウンドトゥルースを一致させます。

一部のグラウンドトゥルースが予測に一致しない場合や、一部の予測がグラウンドトゥルースに一致しない場合でも、それらはスコアリングに含まれます。

#### スコアリング

各シリーズID内のイベントを収集し、各イベントx許容範囲グループに対して平均精度スコアを計算します。平均精度スコアは、予測の信頼度スコアの閾値を下げながら生成される精度-再現率曲線の下の面積です。この計算では、閾値を超える一致した予測はTP（True Positive）としてスコア付けされ、一致しない予測はFP（False Positive）としてスコア付けされます。一致しないグラウンドトゥルースはFN（False Negative）としてスコア付けされます。

#### リダクション

最終的なスコアは、上記の平均精度スコアの平均値であり、まず許容範囲ごとに、次にイベントごとに平均化されます。

## 提出ファイル

各シリーズIDで示されるシリーズについて、そのシリーズ内で発生する各イベントを予測することによって、イベントのタイプとイベントが発生したステップ、およびそのイベントの信頼度スコアを提供してください。評価メトリックはさらに、イベントの列挙を行うrow_idを必要とします。

ファイルはヘッダーを含み、以下の形式を持っている必要があります。

```
row_id,series_id,step,event,score
0,038441c925bb,100,onset,0.0
1,038441c925bb,105,wakeup,0.0
2,03d92c9f6f8a,80,onset,0.5
3,03d92c9f6f8a,110,wakeup,0.5
4,0402a003dae9,90,onset,1.0
5,0402a003dae9,120,wakeup,1.0
...
```

## Code Requirements

この競技への提出はNotebooksを介して行う必要があります。コミット後に「提出」ボタンがアクティブになるためには、以下の条件を満たす必要があります：

CPU Notebookの実行時間が9時間以下であること
GPU Notebookの実行時間が9時間以下であること
インターネットアクセスが無効であること
プリトレーニング済みモデルを含む、自由に利用可能な外部データが許可されていること
提出ファイルはsubmission.csvという名前であること
詳細な提出方法については、「Code Competition FAQ」を参照してください。また、提出エラーに遭遇した場合は、コードのデバッグに関する文書を確認してください。
